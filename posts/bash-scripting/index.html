<!DOCTYPE html>
<html lang="en-gb">
<head>
  <link rel="preload" href="/hhn-pham/hhn-pham.github.io/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/hhn-pham/hhn-pham.github.io/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/hhn-pham/hhn-pham.github.io/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/hhn-pham/hhn-pham.github.io/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Bash scripting | Organisation x Knowledge Base</title>
  <link rel = 'canonical' href = 'https://github.com/hhn-pham/hhn-pham.github.io/posts/bash-scripting/'>
  <meta name="description" content="This is a personal blog, a digital agenda, a &#39;I-don&#39;t want to use emacs but I like orgmode&#39;, journal, and whatnot. It is owned by me, a university student studying Physics and Philosophy. I like tech, linux, privacy, anime and listening to obscure albums recommended by /mu/.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Bash scripting" />
<meta property="og:description" content="Motivation I wanted a simple and creative way to manage my dotfiles, one which would allow more automation than my previous method. I stumbled upon many existing tools that can be utilised to manage dotfiles, such as GNU Stow and chezmoi. But they all seem to be too overkill for me, and their management method do not float my boat quite that well. Here&rsquo;s what these tools might envision a ~/dotfiles or ~/." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://github.com/hhn-pham/hhn-pham.github.io/posts/bash-scripting/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-30T00:53:00+00:00" />
<meta property="article:modified_time" content="2021-07-30T00:53:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Bash scripting"/>
<meta name="twitter:description" content="Motivation I wanted a simple and creative way to manage my dotfiles, one which would allow more automation than my previous method. I stumbled upon many existing tools that can be utilised to manage dotfiles, such as GNU Stow and chezmoi. But they all seem to be too overkill for me, and their management method do not float my boat quite that well. Here&rsquo;s what these tools might envision a ~/dotfiles or ~/."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://github.com/hhn-pham/hhn-pham.github.io/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://github.com/hhn-pham/hhn-pham.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/">Home</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/digital-tasks">Tasks</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/personal-tasks">Todos</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/agenda">Agenda</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/tags">Tags</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/bookmarks">Bookmarks</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://github.com/hhn-pham/hhn-pham.github.io/posts/hostfile/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://github.com/hhn-pham/hhn-pham.github.io/posts/cleaning-home/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&text=Bash%20scripting" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&is_video=false&description=Bash%20scripting" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Bash%20scripting&body=Check out this article: https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&name=Bash%20scripting&description=Motivation%20I%20wanted%20a%20simple%20and%20creative%20way%20to%20manage%20my%20dotfiles%2c%20one%20which%20would%20allow%20more%20automation%20than%20my%20previous%20method.%20I%20stumbled%20upon%20many%20existing%20tools%20that%20can%20be%20utilised%20to%20manage%20dotfiles%2c%20such%20as%20GNU%20Stow%20and%20chezmoi.%20But%20they%20all%20seem%20to%20be%20too%20overkill%20for%20me%2c%20and%20their%20management%20method%20do%20not%20float%20my%20boat%20quite%20that%20well.%20Here%26rsquo%3bs%20what%20these%20tools%20might%20envision%20a%20~%2fdotfiles%20or%20~%2f." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&t=Bash%20scripting" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#motivation">Motivation</a></li>
    <li><a href="#folder-name">Folder name</a></li>
    <li><a href="#preferred-structure">Preferred structure</a></li>
    <li><a href="#script">Script</a></li>
    <li><a href="#caveats">Caveats</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Bash scripting
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-07-30 00:53:00 &#43;0000 UTC" itemprop="datePublished">2021-07-30</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/hhn-pham/hhn-pham.github.io/tags/tech" rel="tag">tech</a>
            
             ,  
            <a class="tag-link" href="/hhn-pham/hhn-pham.github.io/tags/writing" rel="tag">writing</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <h2 id="motivation">Motivation</h2>
<p>I wanted a simple and creative way to manage my <a href="dotfiles.md">dotfiles</a>, one which would allow more automation than my previous method. I stumbled upon many existing tools that can be utilised to manage dotfiles, such as <a href="https://www.gnu.org/software/stow/">GNU Stow</a> and <a href="https://github.com/twpayne/chezmoi">chezmoi</a>. But they all seem to be too overkill for me, and their management method do not float my boat quite that well. Here&rsquo;s what these tools might envision a <code>~/dotfiles</code> or <code>~/.dotfiles</code> directory:</p>
<pre><code>dotfiles
|- package-x
    |- file.conf
    |- init.ini
    |- .x
|- package-y
    |- config.json
</code></pre><p>However, I prefer to have <strong>all</strong> my dotfiles (and important files from <code>~/.config</code>) that I would like to keep in a remote Github repository in the directory level, with easily identifiable filenames. This way, when directory convention changes, or when I want to quickly edit a theme instead of the settings of a certain program <code>abc</code>, I can edit <code>~/.dotfiles/abc-theme.conf</code> instead of having to navigate to the directory <code>abc</code> and then editing <code>theme.conf</code>, for example. This way, my fuzzy searches with <code>fzf</code> also works both in <code>zsh</code> and <code>neovim</code>.</p>
<h2 id="folder-name">Folder name</h2>
<p>I decided to go with <code>~/dotfiles</code> instead <code>~/.dotfiles</code> because I want to be able to access and see all my configs without toggling &lsquo;show hidden&rsquo; inside TUI and GUI file managers, that way, my home directory always looks clean. Plus, I like matching the names of my git repositories with the local repository.</p>
<h2 id="preferred-structure">Preferred structure</h2>
<p>As mentioned before, I would like my <code>~/dotfiles</code> directory to be:</p>
<pre><code>dotfiles
|- x-file.conf
|- x-init.ini
|- x
|- y-config.json
</code></pre><p>The mentioned helper packages wouldn&rsquo;t jive so well with this setup.</p>
<h2 id="script">Script</h2>
<p>I&rsquo;m not that good with bash and its syntax since I just moved to using linux full-time for only about 2 months, but I managed to chalk up a script that goes through all the files in the directory (with exceptions) and symlinking them to their respective location within <code>~/.config</code> or elsewhere. My method is to set the first line of each file to a comment with a delimiter <code>:</code>, so that everything after <code>:</code> is the respective <code>/path/to/file</code> relative to <code>$HOME</code>. This way, I can change the name of the symlinked file.</p>
<h2 id="caveats">Caveats</h2>
<ul>
<li><code>fontconfig</code> files are in <code>xml</code> formats and require the first line to be version number. Thus, I have to add exception to these files and read the 2nd line instead.</li>
<li>Due to the way I wrote my script, if the comment system requires commenting characters to be wrapped around the comment itself, I have to close the comment on the next line (like <code>/**/</code> of <code>css</code> files)</li>
<li>It cannot <em>yet</em> create the required directories for the symlink if they don&rsquo;t exist. This is probably an easy addition but I&rsquo;m lazy, and this works well enough, once I have to set up another box, I will try to implement some sort of <code>mkdir -p</code> command so I don&rsquo;t have to create a billion folders</li>
<li>It can detect if a file of the same name as the symlink already exists, and if so, rename it to <code>*.old</code> and then perform the symlinking, however, if the conflicted file is another symlink, this does not work.
<ul>
<li>The workaround might be to detect if it is a symlink, and then simply removing the symlink instead.</li>
</ul>
</li>
</ul>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/">Home</a></li>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/posts/digital-tasks">Tasks</a></li>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/posts/personal-tasks">Todos</a></li>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/posts/agenda">Agenda</a></li>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/tags">Tags</a></li>
         
          <li><a href="/hhn-pham/hhn-pham.github.io/posts/bookmarks">Bookmarks</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#motivation">Motivation</a></li>
    <li><a href="#folder-name">Folder name</a></li>
    <li><a href="#preferred-structure">Preferred structure</a></li>
    <li><a href="#script">Script</a></li>
    <li><a href="#caveats">Caveats</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&text=Bash%20scripting" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&is_video=false&description=Bash%20scripting" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Bash%20scripting&body=Check out this article: https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&title=Bash%20scripting" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&name=Bash%20scripting&description=Motivation%20I%20wanted%20a%20simple%20and%20creative%20way%20to%20manage%20my%20dotfiles%2c%20one%20which%20would%20allow%20more%20automation%20than%20my%20previous%20method.%20I%20stumbled%20upon%20many%20existing%20tools%20that%20can%20be%20utilised%20to%20manage%20dotfiles%2c%20such%20as%20GNU%20Stow%20and%20chezmoi.%20But%20they%20all%20seem%20to%20be%20too%20overkill%20for%20me%2c%20and%20their%20management%20method%20do%20not%20float%20my%20boat%20quite%20that%20well.%20Here%26rsquo%3bs%20what%20these%20tools%20might%20envision%20a%20~%2fdotfiles%20or%20~%2f." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fgithub.com%2fhhn-pham%2fhhn-pham.github.io%2fposts%2fbash-scripting%2f&t=Bash%20scripting" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Copyleft! 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/">Home</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/digital-tasks">Tasks</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/personal-tasks">Todos</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/agenda">Agenda</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/tags">Tags</a></li>
         
        <li><a href="/hhn-pham/hhn-pham.github.io/posts/bookmarks">Bookmarks</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/hhn-pham/hhn-pham.github.io/lib/font-awesome/css/all.min.css>
<script src=/hhn-pham/hhn-pham.github.io/lib/jquery/jquery.min.js></script>
<script src=/hhn-pham/hhn-pham.github.io/js/main.js></script>
<script src=/hhn-pham/hhn-pham.github.io/js/code-copy.js></script>


  


<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

</html>
